## 初始化项目

```shell
npx create-docusaurus@latest my-website classic
```

## 引入 sass

这里是[官网教程](https://docusaurus.io/zh-CN/docs/styling-layout#sassscss)

## 语言改中文

这里是[官网教程](https://docusaurus.io/zh-CN/docs/i18n/tutorial)  
`docusaurus.config.js`中，配置项 i18n 做如下修改

```js
  i18n: {
    defaultLocale: 'en',
    locales: ['en'],
  },
```

改为

```js
  i18n: {
    defaultLocale: "zh",
    locales: ["zh"],
  },
```

## 修改主页

`src>pages>index.js`

## 删除主页的 footer 信息

删除config>themeConfig下的整个footer字段
```js
const config = {
  themeConfig: {
    footer: {
      style: "dark",
      links: [
        {
          title: "Docs",
          items: [
            {
              label: "Tutorial",
              to: "/docs/intro",
            },
          ],
        },
        {
          title: "Community",
          items: [
            {
              label: "Stack Overflow",
              href: "https://stackoverflow.com/questions/tagged/docusaurus",
            },
            {
              label: "Discord",
              href: "https://discordapp.com/invite/docusaurus",
            },
            {
              label: "Twitter",
              href: "https://twitter.com/docusaurus",
            },
          ],
        },
        {
          title: "More",
          items: [
            {
              label: "Blog",
              to: "/blog",
            },
            {
              label: "GitHub",
              href: "https://github.com/facebook/docusaurus",
            },
          ],
        },
      ],
      copyright: `Copyright © ${new Date().getFullYear()} My Project, Inc. Built with Docusaurus.`,
    },
  },
};
```


## md文件的元素据
[参考这里](https://docusaurus.io/zh-CN/docs/api/plugins/@docusaurus/plugin-content-docs#markdown-front-matter)
```
---
id: head-metadata # md的唯一标识 没有 默认取文件名
title: 第1章 环境搭建 # 标题 相当于md里的一级标题
hide_title: false # 隐藏标题 默认为false
sidebar_position: 2 # 左侧菜单的排序
sidebar_label: 简单 # 左侧菜单显示的文字
sidebar_class_name: green # 左侧菜单显示的文字的样式类名
---
```

## 流程图插件
mdx-mermaid  之前比较麻烦 内部不支持，现在直接支持 就比较简单了。

参考[这里](https://docusaurus.io/zh-CN/docs/markdown-features/diagrams#configuration)


## md导入源文件代码
参考这里[importing-code-snippets](https://docusaurus.io/zh-CN/docs/markdown-features/react#importing-code-snippets)


## 点击总纲渲染
右侧导航 若是一个文件夹，则会被解析成可折叠的菜单。    
如果想定制化显示方式， 可以使用[_category_.json](https://docusaurus.io/zh-CN/docs/sidebar/autogenerated#category-item-metadata)

比如点击菜单的总纲 就想有一个页面展示，则可以如下配置

文件结构如下：
```
|--前端学习
  |--_category_.json
  |--index.md
  |--xxx.md
```

文件夹下创建一个配置文件
_category_.json
```js
{
  "label": "工程化",
  "link": {
    "type": "doc",
    "id": "index"  // 这里意思就是渲染的内容指向 index.md文件
  }
}
```


index.md 就是提供给总纲用的

```
我是总纲内容
```


## 打包环境
这是原来的script
```js
  "scripts": {
    "docusaurus": "docusaurus",
    "start": "docusaurus start",
    "build": "docusaurus build",
    "swizzle": "docusaurus swizzle",
    "deploy": "docusaurus deploy",
    "clear": "docusaurus clear",
    "serve": "docusaurus serve",
    "write-translations": "docusaurus write-translations",
    "write-heading-ids": "docusaurus write-heading-ids"
  },
```
很多脚本我们用不到 改为如下
```js
"scripts": {
  "start": "docusaurus start",
  "build": "docusaurus build",
  "build:gitPage": "cross-env BUILD_ENV=gitPage docusaurus build"
}
```

`build:gitPage`既为定义环境变量 来区分部署环境 动态修改baseUrl，    
并且想要使该命令起作用 还要`docusaurus.config.js`如下修改
```js
const useGpage = process.env.BUILD_ENV === "gitPage";
const baseUrl = useGpage ? "/book-ding/" : "/";

const config = {
  ...
  baseUrl,
}
```


## 支持其它语言高亮
为了节省内存，默认只支持js高亮，可以[开启其他语言高亮](https://docusaurus.io/zh-CN/docs/markdown-features/code-blocks#supported-languages)   
比如让其支持java高亮！
```js
const config = {
  themeConfig:({
      prism: {
        ...
        additionalLanguages: ['java'],
      },
  })
};
```


## 代码自定义高亮
[参考这里](https://docusaurus.io/zh-CN/docs/markdown-features/code-blocks#custom-magic-comments)


## 多文档实例
比如我还有个关于我的模块 独立出去的 不再docs中
```js
const config = {
  plugins: [
    [
      "@docusaurus/plugin-content-docs",
      {
        id: "about-module", // 唯一标识
        path: "about", // 对应根目录下的about文件夹
        routeBasePath: "about", // 定义根路由（访问路径）
        sidebarPath: require.resolve("./sidebars.js"), // 左侧菜单生成规则
      },
    ],
  ],
};
```